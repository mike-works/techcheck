{"version":3,"file":"index.js","sources":["../src/evaluator.ts","../node_modules/es6-promise/dist/lib/es6-promise/utils.js","../node_modules/es6-promise/dist/lib/es6-promise/asap.js","../node_modules/es6-promise/dist/lib/es6-promise/then.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/resolve.js","../node_modules/es6-promise/dist/lib/es6-promise/-internal.js","../node_modules/es6-promise/dist/lib/es6-promise/enumerator.js","../node_modules/es6-promise/dist/lib/es6-promise/promise.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/all.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/race.js","../node_modules/es6-promise/dist/lib/es6-promise/promise/reject.js","../node_modules/es6-promise/dist/lib/es6-promise.js","../node_modules/es6-promise/dist/lib/es6-promise/polyfill.js","../node_modules/es6-promise/auto.js","../node_modules/escape-string-regexp/index.js","../node_modules/ansi-styles/index.js","../node_modules/strip-ansi/index.js","../node_modules/ansi-regex/index.js","../node_modules/has-ansi/index.js","../node_modules/supports-color/index.js","../node_modules/chalk/index.js","../node_modules/semver/semver.js","../src/project/config-validator.ts","../src/project/config.ts","../src/enums/platform.ts","../src/utils/format-error.ts","../src/checker.ts","../src/extractor/base.ts","../src/extractor/executable.ts","../src/utils/run-command.ts","../src/extractor/registry.ts","../src/environment.ts","../src/formatter.ts","../src/index.ts"],"sourcesContent":["import Platform from './enums/platform';\nimport ExecutableExtractor from './extractor/executable';\nimport BaseExtractor from './extractor/base';\nimport { ProjectConfig } from './project/config';\nimport { indentError } from './utils/format-error';\nimport Environment from './environment';\nimport { ExtractorRegistry } from './extractor/registry';\nimport { ValueMatcher } from './checker';\n\nexport interface EvaluatorOptions {\n  config: ProjectConfig;\n  env: Environment;\n  registry: ExtractorRegistry;\n}\n\nexport enum EvaluatorStatus {\n  Ok,\n  Warning,\n  Error,\n  Fail\n}\n\nexport interface EvaluatorResult {\n  name: string;\n  message: string;\n  found: string;\n  target: ValueMatcher;\n  status: EvaluatorStatus;\n}\n\nexport class Evaluator {\n  protected config: ProjectConfig;\n  protected env: Environment;\n  protected registry: ExtractorRegistry;\n  constructor(opts: EvaluatorOptions) {\n    this.config = opts.config;\n    this.registry = opts.registry;\n    this.env = opts.env;\n  }\n\n  public async processVerifications(): Promise<EvaluatorResult[]> {\n    let { verify } = this.config.options;\n    let i = 0;\n    let results = await Promise.all(\n      verify.map(async v => {\n        i++;\n        let { name } = v;\n        let ex = this.registry.getExtractor(name);\n        if (ex === null)\n          throw new Error(\n            `Found item in \"root.verify[${i}]\" pertaining to unknown extractor: ${name}`\n          );\n        let extractorResult = await ex.getInfo(this.env, v);\n        return extractorResult;\n      })\n    );\n    return results.map(r => {\n      return {\n        name: r.name,\n        message: `${r.cmd} ${r.normalized} ${\n          r.match ? 'is OK    ' : 'is NOT OK'\n        }`,\n        found: r.normalized,\n        target: r.target,\n        status: r.match ? EvaluatorStatus.Ok : EvaluatorStatus.Fail\n      };\n    });\n  }\n}\n\nexport default Evaluator;\n","export function objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nexport function isFunction(x) {\n  return typeof x === 'function';\n}\n\nexport function isMaybeThenable(x) {\n  return x !== null && typeof x === 'object';\n}\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nexport var isArray = _isArray;","var len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nexport var asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nexport function setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nexport function setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}","import { invokeCallback, subscribe, FULFILLED, REJECTED, noop, makePromise, PROMISE_ID } from './-internal';\n\nimport { asap } from './asap';\n\nexport default function then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}","import { noop, resolve as _resolve } from '../-internal';\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nexport default function resolve(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  _resolve(promise, object);\n  return promise;\n}","import { objectOrFunction, isFunction } from './utils';\n\nimport { asap } from './asap';\n\nimport originalThen from './then';\nimport originalResolve from './promise/resolve';\n\nexport var PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then) {\n  if (maybeThenable.constructor === promise.constructor && then === originalThen && maybeThenable.constructor.resolve === originalResolve) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then)) {\n      handleForeignThenable(promise, maybeThenable, then);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = void 0,\n      failed = void 0;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (failed) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nexport { nextId, makePromise, getThen, noop, resolve, reject, fulfill, subscribe, publish, publishRejection, initializePromise, invokeCallback, FULFILLED, REJECTED, PENDING, handleMaybeThenable };","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { isArray, isMaybeThenable } from './utils';\n\nimport { noop, reject, fulfill, subscribe, FULFILLED, REJECTED, PENDING, getThen, handleMaybeThenable } from './-internal';\n\nimport then from './then';\nimport Promise from './promise';\nimport originalResolve from './promise/resolve';\nimport originalThen from './then';\nimport { makePromise, PROMISE_ID } from './-internal';\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n};\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve = c.resolve;\n\n\n    if (resolve === originalResolve) {\n      var _then = getThen(entry);\n\n      if (_then === originalThen && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise) {\n        var promise = new c(noop);\n        handleMaybeThenable(promise, entry, _then);\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve) {\n          return resolve(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\nexport default Enumerator;","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nimport { isFunction } from './utils';\n\nimport { noop, nextId, PROMISE_ID, initializePromise } from './-internal';\n\nimport { asap, setAsap, setScheduler } from './asap';\n\nimport all from './promise/all';\nimport race from './promise/race';\nimport Resolve from './promise/resolve';\nimport Reject from './promise/reject';\nimport then from './then';\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    return promise.then(function (value) {\n      return constructor.resolve(callback()).then(function () {\n        return value;\n      });\n    }, function (reason) {\n      return constructor.resolve(callback()).then(function () {\n        throw reason;\n      });\n    });\n  };\n\n  return Promise;\n}();\n\nPromise.prototype.then = then;\nexport default Promise;\nPromise.all = all;\nPromise.race = race;\nPromise.resolve = Resolve;\nPromise.reject = Reject;\nPromise._setScheduler = setScheduler;\nPromise._setAsap = setAsap;\nPromise._asap = asap;","import Enumerator from '../enumerator';\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nexport default function all(entries) {\n  return new Enumerator(this, entries).promise;\n}","import { isArray } from \"../utils\";\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nexport default function race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}","import { noop, reject as _reject } from '../-internal';\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nexport default function reject(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  _reject(promise, reason);\n  return promise;\n}","import Promise from './es6-promise/promise';\nimport polyfill from './es6-promise/polyfill';\n\n// Strange compat..\nPromise.polyfill = polyfill;\nPromise.Promise = Promise;\nexport default Promise;","/*global self*/\nimport Promise from './promise';\n\nexport default function polyfill() {\n    var local = void 0;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise;\n}","// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n'use strict';\nmodule.exports = require('./').polyfill();\n","'use strict';\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n","'use strict';\n\nfunction assembleStyles () {\n\tvar styles = {\n\t\tmodifiers: {\n\t\t\treset: [0, 0],\n\t\t\tbold: [1, 22], // 21 isn't widely supported and 22 does the same thing\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolors: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\t\t\tgray: [90, 39]\n\t\t},\n\t\tbgColors: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49]\n\t\t}\n\t};\n\n\t// fix humans\n\tstyles.colors.grey = styles.colors.gray;\n\n\tObject.keys(styles).forEach(function (groupName) {\n\t\tvar group = styles[groupName];\n\n\t\tObject.keys(group).forEach(function (styleName) {\n\t\t\tvar style = group[styleName];\n\n\t\t\tstyles[styleName] = group[styleName] = {\n\t\t\t\topen: '\\u001b[' + style[0] + 'm',\n\t\t\t\tclose: '\\u001b[' + style[1] + 'm'\n\t\t\t};\n\t\t});\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t});\n\n\treturn styles;\n}\n\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n","'use strict';\nvar ansiRegex = require('ansi-regex')();\n\nmodule.exports = function (str) {\n\treturn typeof str === 'string' ? str.replace(ansiRegex, '') : str;\n};\n","'use strict';\nmodule.exports = function () {\n\treturn /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;\n};\n","'use strict';\nvar ansiRegex = require('ansi-regex');\nvar re = new RegExp(ansiRegex().source); // remove the `g` flag\nmodule.exports = re.test.bind(re);\n","'use strict';\nvar argv = process.argv;\n\nvar terminator = argv.indexOf('--');\nvar hasFlag = function (flag) {\n\tflag = '--' + flag;\n\tvar pos = argv.indexOf(flag);\n\treturn pos !== -1 && (terminator !== -1 ? pos < terminator : true);\n};\n\nmodule.exports = (function () {\n\tif ('FORCE_COLOR' in process.env) {\n\t\treturn true;\n\t}\n\n\tif (hasFlag('no-color') ||\n\t\thasFlag('no-colors') ||\n\t\thasFlag('color=false')) {\n\t\treturn false;\n\t}\n\n\tif (hasFlag('color') ||\n\t\thasFlag('colors') ||\n\t\thasFlag('color=true') ||\n\t\thasFlag('color=always')) {\n\t\treturn true;\n\t}\n\n\tif (process.stdout && !process.stdout.isTTY) {\n\t\treturn false;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn true;\n\t}\n\n\tif ('COLORTERM' in process.env) {\n\t\treturn true;\n\t}\n\n\tif (process.env.TERM === 'dumb') {\n\t\treturn false;\n\t}\n\n\tif (/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)) {\n\t\treturn true;\n\t}\n\n\treturn false;\n})();\n","'use strict';\nvar escapeStringRegexp = require('escape-string-regexp');\nvar ansiStyles = require('ansi-styles');\nvar stripAnsi = require('strip-ansi');\nvar hasAnsi = require('has-ansi');\nvar supportsColor = require('supports-color');\nvar defineProps = Object.defineProperties;\nvar isSimpleWindowsTerm = process.platform === 'win32' && !/^xterm/i.test(process.env.TERM);\n\nfunction Chalk(options) {\n\t// detect mode if not set manually\n\tthis.enabled = !options || options.enabled === undefined ? supportsColor : options.enabled;\n}\n\n// use bright blue on Windows as the normal blue color is illegible\nif (isSimpleWindowsTerm) {\n\tansiStyles.blue.open = '\\u001b[94m';\n}\n\nvar styles = (function () {\n\tvar ret = {};\n\n\tObject.keys(ansiStyles).forEach(function (key) {\n\t\tansiStyles[key].closeRe = new RegExp(escapeStringRegexp(ansiStyles[key].close), 'g');\n\n\t\tret[key] = {\n\t\t\tget: function () {\n\t\t\t\treturn build.call(this, this._styles.concat(key));\n\t\t\t}\n\t\t};\n\t});\n\n\treturn ret;\n})();\n\nvar proto = defineProps(function chalk() {}, styles);\n\nfunction build(_styles) {\n\tvar builder = function () {\n\t\treturn applyStyle.apply(builder, arguments);\n\t};\n\n\tbuilder._styles = _styles;\n\tbuilder.enabled = this.enabled;\n\t// __proto__ is used because we must return a function, but there is\n\t// no way to create a function with a different prototype.\n\t/* eslint-disable no-proto */\n\tbuilder.__proto__ = proto;\n\n\treturn builder;\n}\n\nfunction applyStyle() {\n\t// support varags, but simply cast to string in case there's only one arg\n\tvar args = arguments;\n\tvar argsLen = args.length;\n\tvar str = argsLen !== 0 && String(arguments[0]);\n\n\tif (argsLen > 1) {\n\t\t// don't slice `arguments`, it prevents v8 optimizations\n\t\tfor (var a = 1; a < argsLen; a++) {\n\t\t\tstr += ' ' + args[a];\n\t\t}\n\t}\n\n\tif (!this.enabled || !str) {\n\t\treturn str;\n\t}\n\n\tvar nestedStyles = this._styles;\n\tvar i = nestedStyles.length;\n\n\t// Turns out that on Windows dimmed gray text becomes invisible in cmd.exe,\n\t// see https://github.com/chalk/chalk/issues/58\n\t// If we're on Windows and we're dealing with a gray color, temporarily make 'dim' a noop.\n\tvar originalDim = ansiStyles.dim.open;\n\tif (isSimpleWindowsTerm && (nestedStyles.indexOf('gray') !== -1 || nestedStyles.indexOf('grey') !== -1)) {\n\t\tansiStyles.dim.open = '';\n\t}\n\n\twhile (i--) {\n\t\tvar code = ansiStyles[nestedStyles[i]];\n\n\t\t// Replace any instances already present with a re-opening code\n\t\t// otherwise only the part of the string until said closing code\n\t\t// will be colored, and the rest will simply be 'plain'.\n\t\tstr = code.open + str.replace(code.closeRe, code.open) + code.close;\n\t}\n\n\t// Reset the original 'dim' if we changed it to work around the Windows dimmed gray issue.\n\tansiStyles.dim.open = originalDim;\n\n\treturn str;\n}\n\nfunction init() {\n\tvar ret = {};\n\n\tObject.keys(styles).forEach(function (name) {\n\t\tret[name] = {\n\t\t\tget: function () {\n\t\t\t\treturn build.call(this, [name]);\n\t\t\t}\n\t\t};\n\t});\n\n\treturn ret;\n}\n\ndefineProps(Chalk.prototype, init());\n\nmodule.exports = new Chalk();\nmodule.exports.styles = ansiStyles;\nmodule.exports.hasColor = hasAnsi;\nmodule.exports.stripColor = stripAnsi;\nmodule.exports.supportsColor = supportsColor;\n","exports = module.exports = SemVer;\n\n// The debug function is excluded entirely from the minified version.\n/* nomin */ var debug;\n/* nomin */ if (typeof process === 'object' &&\n    /* nomin */ process.env &&\n    /* nomin */ process.env.NODE_DEBUG &&\n    /* nomin */ /\\bsemver\\b/i.test(process.env.NODE_DEBUG))\n  /* nomin */ debug = function() {\n    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);\n    /* nomin */ args.unshift('SEMVER');\n    /* nomin */ console.log.apply(console, args);\n    /* nomin */ };\n/* nomin */ else\n  /* nomin */ debug = function() {};\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar R = 0;\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++;\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\nvar NUMERICIDENTIFIERLOOSE = R++;\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++;\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++;\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')';\n\nvar MAINVERSIONLOOSE = R++;\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++;\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')';\n\nvar PRERELEASEIDENTIFIERLOOSE = R++;\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')';\n\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++;\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n\nvar PRERELEASELOOSE = R++;\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++;\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++;\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))';\n\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++;\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?';\n\nsrc[FULL] = '^' + FULLPLAIN + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?';\n\nvar LOOSE = R++;\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$';\n\nvar GTLT = R++;\nsrc[GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++;\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\nvar XRANGEIDENTIFIER = R++;\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\nvar XRANGEPLAIN = R++;\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?';\n\nvar XRANGEPLAINLOOSE = R++;\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?';\n\nvar XRANGE = R++;\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\nvar XRANGELOOSE = R++;\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$';\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++;\nsrc[LONETILDE] = '(?:~>?)';\n\nvar TILDETRIM = R++;\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\nvar TILDE = R++;\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\nvar TILDELOOSE = R++;\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++;\nsrc[LONECARET] = '(?:\\\\^)';\n\nvar CARETTRIM = R++;\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\nvar CARET = R++;\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\nvar CARETLOOSE = R++;\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++;\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\nvar COMPARATOR = R++;\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$';\n\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++;\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++;\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\nvar HYPHENRANGELOOSE = R++;\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++;\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i])\n    re[i] = new RegExp(src[i]);\n}\n\nexports.parse = parse;\nfunction parse(version, loose) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  if (version.length > MAX_LENGTH)\n    return null;\n\n  var r = loose ? re[LOOSE] : re[FULL];\n  if (!r.test(version))\n    return null;\n\n  try {\n    return new SemVer(version, loose);\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.valid = valid;\nfunction valid(version, loose) {\n  var v = parse(version, loose);\n  return v ? v.version : null;\n}\n\n\nexports.clean = clean;\nfunction clean(version, loose) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), loose);\n  return s ? s.version : null;\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer(version, loose) {\n  if (version instanceof SemVer) {\n    if (version.loose === loose)\n      return version;\n    else\n      version = version.version;\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version);\n  }\n\n  if (version.length > MAX_LENGTH)\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n\n  if (!(this instanceof SemVer))\n    return new SemVer(version, loose);\n\n  debug('SemVer', version, loose);\n  this.loose = loose;\n  var m = version.trim().match(loose ? re[LOOSE] : re[FULL]);\n\n  if (!m)\n    throw new TypeError('Invalid Version: ' + version);\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0)\n    throw new TypeError('Invalid major version')\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)\n    throw new TypeError('Invalid minor version')\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)\n    throw new TypeError('Invalid patch version')\n\n  // numberify any prerelease numeric ids\n  if (!m[4])\n    this.prerelease = [];\n  else\n    this.prerelease = m[4].split('.').map(function(id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id;\n        if (num >= 0 && num < MAX_SAFE_INTEGER)\n          return num;\n      }\n      return id;\n    });\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function() {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length)\n    this.version += '-' + this.prerelease.join('.');\n  return this.version;\n};\n\nSemVer.prototype.toString = function() {\n  return this.version;\n};\n\nSemVer.prototype.compare = function(other) {\n  debug('SemVer.compare', this.version, this.loose, other);\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return this.compareMain(other) || this.comparePre(other);\n};\n\nSemVer.prototype.compareMain = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch);\n};\n\nSemVer.prototype.comparePre = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length)\n    return -1;\n  else if (!this.prerelease.length && other.prerelease.length)\n    return 1;\n  else if (!this.prerelease.length && !other.prerelease.length)\n    return 0;\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined)\n      return 0;\n    else if (b === undefined)\n      return 1;\n    else if (a === undefined)\n      return -1;\n    else if (a === b)\n      continue;\n    else\n      return compareIdentifiers(a, b);\n  } while (++i);\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function(release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break;\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break;\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0)\n        this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)\n        this.major++;\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0)\n        this.minor++;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0)\n        this.patch++;\n      this.prerelease = [];\n      break;\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0)\n        this.prerelease = [0];\n      else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) // didn't increment anything\n          this.prerelease.push(0);\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1]))\n            this.prerelease = [identifier, 0];\n        } else\n          this.prerelease = [identifier, 0];\n      }\n      break;\n\n    default:\n      throw new Error('invalid increment argument: ' + release);\n  }\n  this.format();\n  this.raw = this.version;\n  return this;\n};\n\nexports.inc = inc;\nfunction inc(version, release, loose, identifier) {\n  if (typeof(loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version;\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.diff = diff;\nfunction diff(version1, version2) {\n  if (eq(version1, version2)) {\n    return null;\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    if (v1.prerelease.length || v2.prerelease.length) {\n      for (var key in v1) {\n        if (key === 'major' || key === 'minor' || key === 'patch') {\n          if (v1[key] !== v2[key]) {\n            return 'pre'+key;\n          }\n        }\n      }\n      return 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return key;\n        }\n      }\n    }\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return (anum && !bnum) ? -1 :\n         (bnum && !anum) ? 1 :\n         a < b ? -1 :\n         a > b ? 1 :\n         0;\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers(a, b) {\n  return compareIdentifiers(b, a);\n}\n\nexports.major = major;\nfunction major(a, loose) {\n  return new SemVer(a, loose).major;\n}\n\nexports.minor = minor;\nfunction minor(a, loose) {\n  return new SemVer(a, loose).minor;\n}\n\nexports.patch = patch;\nfunction patch(a, loose) {\n  return new SemVer(a, loose).patch;\n}\n\nexports.compare = compare;\nfunction compare(a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose));\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose(a, b) {\n  return compare(a, b, true);\n}\n\nexports.rcompare = rcompare;\nfunction rcompare(a, b, loose) {\n  return compare(b, a, loose);\n}\n\nexports.sort = sort;\nfunction sort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.compare(a, b, loose);\n  });\n}\n\nexports.rsort = rsort;\nfunction rsort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.rcompare(a, b, loose);\n  });\n}\n\nexports.gt = gt;\nfunction gt(a, b, loose) {\n  return compare(a, b, loose) > 0;\n}\n\nexports.lt = lt;\nfunction lt(a, b, loose) {\n  return compare(a, b, loose) < 0;\n}\n\nexports.eq = eq;\nfunction eq(a, b, loose) {\n  return compare(a, b, loose) === 0;\n}\n\nexports.neq = neq;\nfunction neq(a, b, loose) {\n  return compare(a, b, loose) !== 0;\n}\n\nexports.gte = gte;\nfunction gte(a, b, loose) {\n  return compare(a, b, loose) >= 0;\n}\n\nexports.lte = lte;\nfunction lte(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n}\n\nexports.cmp = cmp;\nfunction cmp(a, op, b, loose) {\n  var ret;\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a === b;\n      break;\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a !== b;\n      break;\n    case '': case '=': case '==': ret = eq(a, b, loose); break;\n    case '!=': ret = neq(a, b, loose); break;\n    case '>': ret = gt(a, b, loose); break;\n    case '>=': ret = gte(a, b, loose); break;\n    case '<': ret = lt(a, b, loose); break;\n    case '<=': ret = lte(a, b, loose); break;\n    default: throw new TypeError('Invalid operator: ' + op);\n  }\n  return ret;\n}\n\nexports.Comparator = Comparator;\nfunction Comparator(comp, loose) {\n  if (comp instanceof Comparator) {\n    if (comp.loose === loose)\n      return comp;\n    else\n      comp = comp.value;\n  }\n\n  if (!(this instanceof Comparator))\n    return new Comparator(comp, loose);\n\n  debug('comparator', comp, loose);\n  this.loose = loose;\n  this.parse(comp);\n\n  if (this.semver === ANY)\n    this.value = '';\n  else\n    this.value = this.operator + this.semver.version;\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function(comp) {\n  var r = this.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m)\n    throw new TypeError('Invalid comparator: ' + comp);\n\n  this.operator = m[1];\n  if (this.operator === '=')\n    this.operator = '';\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2])\n    this.semver = ANY;\n  else\n    this.semver = new SemVer(m[2], this.loose);\n};\n\nComparator.prototype.toString = function() {\n  return this.value;\n};\n\nComparator.prototype.test = function(version) {\n  debug('Comparator.test', version, this.loose);\n\n  if (this.semver === ANY)\n    return true;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  return cmp(version, this.operator, this.semver, this.loose);\n};\n\nComparator.prototype.intersects = function(comp, loose) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required');\n  }\n\n  var rangeTmp;\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, loose);\n    return satisfies(this.value, rangeTmp, loose);\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, loose);\n    return satisfies(comp.semver, rangeTmp, loose);\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>');\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<');\n  var sameSemVer = this.semver.version === comp.semver.version;\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=');\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, loose) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'));\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, loose) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'));\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n};\n\n\nexports.Range = Range;\nfunction Range(range, loose) {\n  if (range instanceof Range) {\n    if (range.loose === loose) {\n      return range;\n    } else {\n      return new Range(range.raw, loose);\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, loose);\n  }\n\n  if (!(this instanceof Range))\n    return new Range(range, loose);\n\n  this.loose = loose;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function(range) {\n    return this.parseRange(range.trim());\n  }, this).filter(function(c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length;\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range);\n  }\n\n  this.format();\n}\n\nRange.prototype.format = function() {\n  this.range = this.set.map(function(comps) {\n    return comps.join(' ').trim();\n  }).join('||').trim();\n  return this.range;\n};\n\nRange.prototype.toString = function() {\n  return this.range;\n};\n\nRange.prototype.parseRange = function(range) {\n  var loose = this.loose;\n  range = range.trim();\n  debug('range', range, loose);\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var set = range.split(' ').map(function(comp) {\n    return parseComparator(comp, loose);\n  }).join(' ').split(/\\s+/);\n  if (this.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function(comp) {\n      return !!comp.match(compRe);\n    });\n  }\n  set = set.map(function(comp) {\n    return new Comparator(comp, loose);\n  });\n\n  return set;\n};\n\nRange.prototype.intersects = function(range, loose) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required');\n  }\n\n  return this.set.some(function(thisComparators) {\n    return thisComparators.every(function(thisComparator) {\n      return range.set.some(function(rangeComparators) {\n        return rangeComparators.every(function(rangeComparator) {\n          return thisComparator.intersects(rangeComparator, loose);\n        });\n      });\n    });\n  });\n};\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators(range, loose) {\n  return new Range(range, loose).set.map(function(comp) {\n    return comp.map(function(c) {\n      return c.value;\n    }).join(' ').trim().split(' ');\n  });\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator(comp, loose) {\n  debug('comp', comp);\n  comp = replaceCarets(comp, loose);\n  debug('caret', comp);\n  comp = replaceTildes(comp, loose);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, loose);\n  debug('xrange', comp);\n  comp = replaceStars(comp, loose);\n  debug('stars', comp);\n  return comp;\n}\n\nfunction isX(id) {\n  return !id || id.toLowerCase() === 'x' || id === '*';\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceTilde(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceTilde(comp, loose) {\n  var r = loose ? re[TILDELOOSE] : re[TILDE];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p))\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    else if (pr) {\n      debug('replaceTilde pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      ret = '>=' + M + '.' + m + '.' + p + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceCaret(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceCaret(comp, loose) {\n  debug('caret', comp, loose);\n  var r = loose ? re[CARETLOOSE] : re[CARET];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p)) {\n      if (M === '0')\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      else\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p + pr +\n              ' <' + (+M + 1) + '.0.0';\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n}\n\nfunction replaceXRanges(comp, loose) {\n  debug('replaceXRanges', comp, loose);\n  return comp.split(/\\s+/).map(function(comp) {\n    return replaceXRange(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceXRange(comp, loose) {\n  comp = comp.trim();\n  var r = loose ? re[XRANGELOOSE] : re[XRANGE];\n  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX)\n      gtlt = '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // replace X with 0\n      if (xm)\n        m = 0;\n      if (xp)\n        p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else if (xp) {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n        if (xm)\n          M = +M + 1;\n        else\n          m = +m + 1;\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('xRange return', ret);\n\n    return ret;\n  });\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars(comp, loose) {\n  debug('replaceStars', comp, loose);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '');\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace($0,\n                       from, fM, fm, fp, fpr, fb,\n                       to, tM, tm, tp, tpr, tb) {\n\n  if (isX(fM))\n    from = '';\n  else if (isX(fm))\n    from = '>=' + fM + '.0.0';\n  else if (isX(fp))\n    from = '>=' + fM + '.' + fm + '.0';\n  else\n    from = '>=' + from;\n\n  if (isX(tM))\n    to = '';\n  else if (isX(tm))\n    to = '<' + (+tM + 1) + '.0.0';\n  else if (isX(tp))\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  else if (tpr)\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  else\n    to = '<=' + to;\n\n  return (from + ' ' + to).trim();\n}\n\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function(version) {\n  if (!version)\n    return false;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version))\n      return true;\n  }\n  return false;\n};\n\nfunction testSet(set, version) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version))\n      return false;\n  }\n\n  if (version.prerelease.length) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY)\n        continue;\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch)\n          return true;\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false;\n  }\n\n  return true;\n}\n\nexports.satisfies = satisfies;\nfunction satisfies(version, range, loose) {\n  try {\n    range = new Range(range, loose);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying(versions, range, loose) {\n  var max = null;\n  var maxSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!max || maxSV.compare(v) === -1) { // compare(max, v, true)\n        max = v;\n        maxSV = new SemVer(max, loose);\n      }\n    }\n  })\n  return max;\n}\n\nexports.minSatisfying = minSatisfying;\nfunction minSatisfying(versions, range, loose) {\n  var min = null;\n  var minSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!min || minSV.compare(v) === 1) { // compare(min, v, true)\n        min = v;\n        minSV = new SemVer(min, loose);\n      }\n    }\n  })\n  return min;\n}\n\nexports.validRange = validRange;\nfunction validRange(range, loose) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, loose).range || '*';\n  } catch (er) {\n    return null;\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr(version, range, loose) {\n  return outside(version, range, '<', loose);\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr(version, range, loose) {\n  return outside(version, range, '>', loose);\n}\n\nexports.outside = outside;\nfunction outside(version, range, hilo, loose) {\n  version = new SemVer(version, loose);\n  range = new Range(range, loose);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, loose)) {\n    return false;\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function(comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, loose)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, loose)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false;\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false;\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexports.prerelease = prerelease;\nfunction prerelease(version, loose) {\n  var parsed = parse(version, loose);\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null;\n}\n\nexports.intersects = intersects;\nfunction intersects(r1, r2, loose) {\n  r1 = new Range(r1, loose)\n  r2 = new Range(r2, loose)\n  return r1.intersects(r2)\n}\n","import { checkObjectKeys } from '../utils/compare';\nimport { indentError } from '../utils/format-error';\nimport { validRange } from 'semver';\n\ninterface TypeErrorMessage {\n  path: string;\n  message: string;\n}\n\nfunction validateVerifyItem(dep: any, i: number): TypeErrorMessage[] {\n  if (typeof dep.name !== 'string')\n    return [{ path: `root.verify[${i}].name`, message: 'should be a string' }];\n  if (dep.version instanceof RegExp) return [];\n  if (dep.version instanceof Function) return [];\n  if (typeof dep.version === 'string') return [];\n  if (dep.version instanceof Array) {\n    return [\n      { path: `root.verify[${i}].version`, message: 'should be an array' }\n    ];\n  }\n  if (dep.version instanceof Object) {\n    let o = dep.version as Object;\n    if (typeof (o as any).semver === 'string') {\n      if (validRange((o as any).semver)) return [];\n      return [\n        {\n          path: `root.verify[${i}].version.semver`,\n          message: `invalid semver string: ${(o as any).semver}`\n        }\n      ];\n    }\n    if (\n      dep.version.semver &&\n      (dep.version.semver.min ||\n        dep.version.semver.max ||\n        dep.version.semver.range)\n    )\n      return [];\n    return [\n      {\n        path: `root.verify[${i}].version`,\n        message: `invalid object ${JSON.stringify(dep.version)}`\n      }\n    ];\n  }\n  return [];\n}\n\nfunction validateVerifyArray(verifyArr: any[]): TypeErrorMessage[] {\n  if (!(verifyArr instanceof Array)) {\n    return [{ path: 'root.verify', message: 'should be an array' }];\n  }\n\n  for (let i = 0; i < verifyArr.length; i++) {\n    let dep = verifyArr[i];\n    let errors = validateVerifyItem(dep, i);\n    if (errors.length > 0) return errors;\n  }\n  return [];\n}\nexport function validateConfig(configModule: any): TypeErrorMessage[] {\n  if (!(configModule.verify instanceof Object)) {\n    return [{ path: 'root', message: 'should be an object' }];\n  }\n  let verifyErrors = validateVerifyArray(configModule.verify);\n  if (verifyErrors.length > 0) return verifyErrors;\n  return [];\n}\n","import * as fs from 'fs';\nimport * as path from 'path';\nimport { validateConfig } from './config-validator';\nimport { indentError } from '../utils/format-error';\nimport chalk from 'chalk';\nimport { ValueMatcher } from '../checker';\n\nasync function getIfExists(filepath: string): Promise<any> {\n  return new Promise((res, rej) => {\n    fs.exists(filepath, exists => {\n      if (exists) {\n        res(require(filepath));\n      } else {\n        res(undefined);\n      }\n    });\n  });\n}\n\nasync function findConfig(dir = process.cwd()): Promise<any> {\n  let configModule = await getIfExists(path.join(dir, 'techcheck.config.js'));\n  if (configModule) return configModule;\n  return findConfig(path.join(dir, '..'));\n}\n\nexport interface ConfigVerifyOption {\n  name: string;\n  version?: ValueMatcher;\n}\n\nexport interface ConfigOptions {\n  verify: ConfigVerifyOption[];\n}\n\nexport class ProjectConfig {\n  private optionsModule?: ConfigOptions;\n  public get options(): Readonly<ConfigOptions> {\n    if (!this.optionsModule)\n      throw new Error(\n        `Attempted to access project config options before it was populated`\n      );\n    return this.optionsModule;\n  }\n  public async setup() {\n    let optionsModule = await findConfig();\n    let messages = validateConfig(optionsModule);\n    this.optionsModule = optionsModule;\n    if (messages.length > 0) {\n      throw new Error(\n        messages\n          .map(m =>\n            chalk.bgRed.white(\n              `Config file format error at ${m.path}, ${m.message}`\n            )\n          )\n          .join('\\n')\n      );\n    }\n  }\n}\n","import { platform as nodePlatform } from 'os';\n\nexport enum Platform {\n  Win32,\n  Posix,\n  Unsupported\n}\n\nexport const POSIX_PLATFORMS: NodeJS.Platform[] = [\n  'aix',\n  'darwin',\n  'freebsd',\n  'linux',\n  'openbsd',\n  'cygwin'\n];\n\nexport type SupportedPlatform = Platform.Posix | Platform.Win32;\n\nexport function isPlatform(platform: Platform): boolean {\n  return getPlatform() === platform;\n}\n\nexport function platformFor(platform: NodeJS.Platform): Platform {\n  if (platform === 'win32') {\n    return Platform.Win32;\n  }\n  if (POSIX_PLATFORMS.indexOf(platform) >= 0) {\n    return Platform.Posix;\n  }\n  return Platform.Unsupported;\n}\n\nexport function getPlatform(): Platform {\n  let p = nodePlatform();\n  return platformFor(p);\n}\n\nexport default Platform;\n","export function indentError(\n  message: string,\n  prefix: string,\n  nextMessage: string\n) {\n  return `${message}\\n${prefix}${nextMessage.replace(/\\n/g, `\\n${prefix}`)}`;\n}\n","import { validRange, satisfies, gte, lte } from 'semver';\n\nexport type SemVerMatcher =\n  | { range?: string; min?: string; max?: string }\n  | string;\n\nexport type ValueMatcher =\n  | RegExp\n  | string\n  | { semver: SemVerMatcher }\n  | ((raw: string) => boolean);\n\nfunction doesSemverMatch(version: string, m: SemVerMatcher): boolean {\n  let range = typeof m !== 'string' ? m.range : m;\n  let min: string | undefined;\n  let max: string | undefined;\n  if (typeof m !== 'string') {\n    min = m.min;\n    max = m.max;\n  }\n\n  if (typeof range !== 'undefined') {\n    return satisfies(version, range);\n  }\n  if (typeof max !== 'undefined') {\n    if (typeof min !== 'undefined') {\n      return gte(version, min) && lte(version, max);\n    }\n    return lte(version, max);\n  }\n  if (typeof min !== 'undefined') {\n    return gte(version, min);\n  }\n  throw new Error(`Invalid SemVerMatcher object ${JSON.stringify(m)}`);\n}\n\nfunction doesMatch(v: string | string, m: ValueMatcher): boolean {\n  let val = v;\n  if (m instanceof RegExp) {\n    return m.test(val);\n  }\n  if (typeof m === 'string') {\n    return m === val;\n  }\n  if (m instanceof Function) {\n    return m(val);\n  }\n  return doesSemverMatch(val, m.semver);\n}\n\nfunction validateMatcher(matcher: ValueMatcher) {\n  if (matcher instanceof RegExp) return true;\n  if (matcher instanceof Function) return true;\n  if (typeof matcher === 'string') return true;\n  if (\n    typeof matcher.semver !== 'undefined' &&\n    ((typeof matcher.semver === 'string' &&\n      validRange(matcher.semver) !== undefined) ||\n      (typeof matcher.semver !== 'string' &&\n        (typeof matcher.semver.max !== 'undefined' ||\n          typeof matcher.semver.min !== 'undefined' ||\n          typeof matcher.semver.range !== 'undefined')))\n  )\n    return true;\n  return false;\n}\n\nexport function isOk(v: string, matcher: ValueMatcher): boolean {\n  if (typeof matcher === 'undefined' || !validateMatcher(matcher))\n    throw new Error(`Invalid matcher: ${JSON.stringify(matcher)}`);\n  let matches = doesMatch(v, matcher);\n  return matches;\n}\n","import { Platform, SupportedPlatform } from '../enums/platform';\nimport Environment from '../environment';\nimport { ValueMatcher, isOk } from '../checker';\n\nexport type ExtractorValue = {\n  _brand: '__from_extractor';\n  val: string;\n};\n\nexport interface ExtractorResult {\n  name: string;\n  raw: string;\n  cmd: string;\n  normalized: string;\n  target: ValueMatcher;\n  match: boolean;\n}\n\ntype ValueFormatter = RegExp | ((s: string) => string);\n\nexport interface NormalizerOptions {\n  preprocessor?: ValueFormatter;\n}\n\nexport interface BaseExtractorOptions {\n  name: string;\n  platforms: SupportedPlatform[];\n  normalizerOptions?: NormalizerOptions;\n}\n\nfunction normalizeValue(s: string, vf?: ValueFormatter): string {\n  if (typeof vf === 'undefined') return s;\n  if (vf instanceof RegExp) {\n    let parts = vf.exec(s);\n    if (parts && parts.length > 0) {\n      return parts[0];\n    }\n    return '';\n  }\n  return vf(s);\n}\n\nexport abstract class BaseExtractor {\n  public readonly platforms: SupportedPlatform[];\n  public readonly name: string;\n  private normalizerOptions?: NormalizerOptions;\n\n  public handlesPlatform(platform: Platform) {\n    return (this.platforms as Platform[]).indexOf(platform) >= 0;\n  }\n  public async getInfo(env: Environment, opts: any): Promise<ExtractorResult> {\n    if (!this.handlesPlatform(env.platform))\n      throw new Error(\n        `Extractor ${this.name} does not support ${Platform[env.platform]}`\n      );\n    let cmd = Object.keys(opts).reduce(\n      (acc, item) => {\n        if (item === 'name') return acc;\n        acc.push(item);\n        return acc;\n      },\n      [] as string[]\n    )[0];\n    if (!cmd)\n      throw new Error(\n        `Extractor ${this.name} didn't know which command to execute`\n      );\n\n    let ev = await this.getInfoForEnvironment(env, cmd, opts);\n    let raw = BaseExtractor.unbrand(ev);\n    let normalized = normalizeValue(\n      raw,\n      this.normalizerOptions ? this.normalizerOptions.preprocessor : undefined\n    );\n    let matcher: ValueMatcher = cmd ? (opts as any)[cmd] : opts;\n    return {\n      raw,\n      cmd,\n      normalized,\n      name: this.name,\n      target: matcher,\n      match: isOk(normalized, matcher)\n    };\n  }\n  protected abstract async getInfoForEnvironment(\n    env: Environment,\n    cmd: string,\n    opts?: any\n  ): Promise<ExtractorValue>;\n\n  constructor({ name, platforms, normalizerOptions }: BaseExtractorOptions) {\n    this.platforms = platforms;\n    this.name = name;\n    this.normalizerOptions = normalizerOptions;\n  }\n\n  protected static brandStamp: '__from_extractor';\n  public static unbrand(v: ExtractorValue): string {\n    return v.val;\n  }\n  public static brand(s: string): ExtractorValue {\n    return {\n      val: s,\n      _brand: BaseExtractor.brandStamp\n    };\n  }\n}\n\nexport default BaseExtractor;\n","import BaseExtractor, { BaseExtractorOptions, ExtractorValue } from './base';\nimport Environment from '../environment';\nimport { runCommand } from '../utils/run-command';\nimport { Platform } from '../enums/platform';\n\nexport interface ExecutableExtractorOptions extends BaseExtractorOptions {\n  commands: {\n    [k: string]: string;\n  };\n}\n\nexport class ExecutableExtractor extends BaseExtractor {\n  private readonly commands: {\n    [k: string]: string;\n  };\n  public async getInfoForEnvironment(\n    env: Environment,\n    cmd: string,\n    opts: any\n  ): Promise<ExtractorValue> {\n    return {\n      val: (await runCommand(this.commands[cmd])).trim(),\n      _brand: BaseExtractor.brandStamp\n    };\n  }\n  constructor(opts: ExecutableExtractorOptions) {\n    super(opts);\n    this.commands = JSON.parse(JSON.stringify(opts.commands));\n  }\n}\n\nexport default ExecutableExtractor;\n","import { exec } from 'child_process';\n\n/**\n * Execute a shell/bash command\n * @param command command to run\n * @return result of command\n */\nexport function runCommand(command: string): Promise<string> {\n  return new Promise((resolve, reject) => {\n    exec(command, (err, stdout, stderr) => {\n      if (err !== null) reject(new Error(stderr));\n      else resolve(stdout);\n    });\n  });\n}\n","import { BaseExtractor } from '../extractor/base';\nimport { ExecutableExtractor } from '../extractor/executable';\nimport { Platform } from '../enums/platform';\nimport Environment from '../environment';\nimport { indentError } from '../utils/format-error';\n\ntype ExtractorInfo = BaseExtractor;\n\nconst OPENSSL_EXTRACTOR = new ExecutableExtractor({\n  name: 'OpenSSL',\n  platforms: [Platform.Win32, Platform.Posix],\n  commands: { version: 'openssl version' },\n  normalizerOptions: {\n    preprocessor: /[0-9\\.]+/\n  }\n});\n\nconst NODE_EXTRACTOR = new ExecutableExtractor({\n  name: 'Node.js',\n  platforms: [Platform.Win32, Platform.Posix],\n  commands: { version: 'node --version' },\n  normalizerOptions: {\n    preprocessor: /[0-9\\.]+/\n  }\n});\n\nconst POSTGRES_EXTRACTOR = new ExecutableExtractor({\n  name: 'PosgreSQL',\n  platforms: [Platform.Win32, Platform.Posix],\n  commands: { version: 'pg_ctl --version' },\n  normalizerOptions: {\n    preprocessor: /[0-9\\.]+/\n  }\n});\n\nexport class ExtractorRegistry {\n  protected extractors: { [k: string]: ExtractorInfo };\n  constructor() {\n    this.extractors = {};\n  }\n\n  public async setup() {\n    try {\n      this.setupStandardExtractors();\n    } catch (e) {\n      let err = e as Error;\n      err.message = indentError(\n        'Unable to setup extractor registry',\n        '  ',\n        err.message\n      );\n      throw err;\n    }\n  }\n\n  setupStandardExtractors() {\n    this.extractors.openssl = OPENSSL_EXTRACTOR;\n    this.extractors.node = NODE_EXTRACTOR;\n    this.extractors.postgres = POSTGRES_EXTRACTOR;\n  }\n\n  public getExtractor(name: string): BaseExtractor | null {\n    return this.extractors[name] || null;\n  }\n}\n\nexport default ExtractorRegistry;\n","import Platform, { getPlatform, SupportedPlatform } from './enums/platform';\nimport { ProjectConfig } from './project/config';\n\nexport interface EnvironmentOptions {\n  platform: Platform;\n}\n\nconst DEFAULT_ENVIRONMENT_OPTIONS: EnvironmentOptions = {\n  platform: getPlatform()\n};\n\nexport default class Environment {\n  public platform: Readonly<SupportedPlatform>;\n  protected config: Readonly<ProjectConfig>;\n  protected options: Readonly<EnvironmentOptions>;\n  constructor(opts: Partial<EnvironmentOptions> = {}) {\n    this.options = {\n      platform:\n        typeof opts.platform === 'undefined'\n          ? DEFAULT_ENVIRONMENT_OPTIONS.platform\n          : opts.platform\n    };\n    if (this.options.platform === Platform.Unsupported)\n      throw new Error(\n        `Unsupported platform: ${Platform[this.options.platform]}`\n      );\n    this.platform = this.options.platform;\n  }\n}\n","import chalk from 'chalk';\nimport { ExtractorResult } from './extractor/base';\nimport { EvaluatorResult, EvaluatorStatus } from './evaluator';\nimport { ValueMatcher } from './checker';\n\nfunction successMessage(s: NodeJS.WritableStream, r: EvaluatorResult) {\n  let str = `  ✅  ${r.name}\\t${r.message}`;\n  str += chalk.grey(`\\t(required: ${formatMatcher(r.target)} )`);\n  s.write(str + '\\n');\n}\n\nfunction failMessage(s: NodeJS.WritableStream, r: EvaluatorResult) {\n  let str = `  🛑  ${r.name}\\t${r.message}`;\n  str += chalk.grey(`\\t(required: ${formatMatcher(r.target)} )`);\n  s.write(str + '\\n');\n}\n\nfunction warnMessage(s: NodeJS.WritableStream, r: EvaluatorResult) {\n  s.write(`  ⚠️  ${r.name}\\n`);\n}\n\nfunction errorMessage(s: NodeJS.WritableStream, r: EvaluatorResult) {\n  s.write(`  💥  ${r.name}\\n`);\n}\n\nexport function formatExtractorResults(\n  s: NodeJS.WritableStream,\n  results: EvaluatorResult[]\n) {\n  s.write(\n    '\\n' +\n      chalk.yellow(\"🔍 TechCheck Scan: Making sure you're all set up 🔎\") +\n      '\\n'\n  );\n  s.write(' ------------------------------------------------\\n');\n  results.forEach(r => {\n    if (r.status === EvaluatorStatus.Ok) successMessage(s, r);\n    if (r.status === EvaluatorStatus.Error) errorMessage(s, r);\n    if (r.status === EvaluatorStatus.Warning) warnMessage(s, r);\n    if (r.status === EvaluatorStatus.Fail) failMessage(s, r);\n  });\n}\n\nfunction formatMatcher(valueMatcher: ValueMatcher) {\n  if (typeof valueMatcher === 'string') {\n    return '= ' + chalk.yellow(`\"${valueMatcher}\"`);\n  }\n  if (valueMatcher instanceof RegExp) {\n    return '~ ' + chalk.magenta(`/${valueMatcher.source}/`);\n  }\n  if (valueMatcher instanceof Function) {\n    return chalk.cyan(`${valueMatcher.toString()}`);\n  }\n  if (valueMatcher.semver) {\n    let sv = valueMatcher.semver;\n    if (typeof sv === 'string') {\n      return chalk.green(`${sv}`);\n    }\n    if (sv.range) {\n      return chalk.green(`${sv.range}`);\n    }\n    if (sv.min && sv.max) {\n      return chalk.green(`>= ${sv.min} && <= ${sv.max}`);\n    }\n    if (sv.min) {\n      return chalk.green(`>= ${sv.min}`);\n    }\n    if (sv.max) {\n      return chalk.green(`<= ${sv.max}`);\n    }\n  }\n}\n","import Evaluator, { EvaluatorStatus } from './evaluator';\nimport 'es6-promise/auto';\nimport chalk from 'chalk';\nimport { ProjectConfig } from './project/config';\nimport { indentError } from './utils/format-error';\nimport { ExtractorRegistry } from './extractor/registry';\nimport Environment from './environment';\nimport { formatExtractorResults } from './formatter';\n\nasync function coreSetup(): Promise<{ registry: ExtractorRegistry }> {\n  let registry = new ExtractorRegistry();\n  try {\n    await registry.setup();\n    return { registry };\n  } catch (e) {\n    let err = e as Error;\n    err.message = indentError(\n      'Unable to setup extractor registry',\n      '  ',\n      err.message\n    );\n    throw err;\n  }\n}\n\nasync function projectSetup(): Promise<{\n  config: ProjectConfig;\n}> {\n  let config = new ProjectConfig();\n  try {\n    await config.setup();\n  } catch (e) {\n    if (e instanceof Error) {\n      e.message = indentError(\n        'Unable to setup project config',\n        '  ',\n        e.message\n      );\n      throw e;\n    } else {\n      throw e;\n    }\n  }\n  return { config };\n}\n\nasync function main(): Promise<boolean> {\n  let env = new Environment();\n  let { registry } = await coreSetup();\n  let { config } = await projectSetup();\n\n  let evaluator = new Evaluator({ env, registry, config });\n  let verificationResult = await evaluator.processVerifications();\n  formatExtractorResults(process.stdout, verificationResult);\n  let success = verificationResult.reduce((acc, item) => {\n    if (!acc) return acc;\n    return (\n      [EvaluatorStatus.Ok, EvaluatorStatus.Warning].indexOf(item.status) >= 0\n    );\n  }, true);\n  return success;\n  // console.log(verificationResult);\n}\n\n(async function() {\n  let ok = await main();\n  process.exit(ok ? 0 : 1);\n})().catch(e => {\n  if (e instanceof Error) {\n    let message: string = `${e}`;\n    if (e instanceof Error && e.stack) {\n      message = e.stack;\n    }\n    message = message\n      .split('\\n')\n      .map(x => chalk.red(x))\n      .join('\\n');\n    console.error(chalk.red(message));\n  }\n});\n"],"names":["EvaluatorStatus","opts","this","config","registry","env","Evaluator","verify","options","i","Promise","all","map","v","name","ex","getExtractor","Error","getInfo","_a","r","message","cmd","normalized","match","found","target","status","Ok","Fail","isFunction","x","isArray","Array","Object","prototype","toString","call","len","vertxNext","customSchedulerFn","asap","callback","arg","queue","flush","scheduleFlush","browserWindow","window","undefined","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","isNode","self","process","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useSetTimeout","globalSetTimeout","setTimeout","channel","iterations","observer","node","then","onFulfillment","onRejection","parent","child","constructor","noop","PROMISE_ID","makePromise","_state","arguments","invokeCallback","_result","subscribe","resolve","object","promise","_resolve","nextTick","document","createTextNode","observe","characterData","data","port1","onmessage","port2","postMessage","require","vertx","runOnLoop","runOnContext","e","attemptVertx","Math","random","substring","PENDING","FULFILLED","REJECTED","GET_THEN_ERROR","ErrorObject","getThen","error","handleMaybeThenable","maybeThenable","thenable","originalThen","originalResolve","fulfill","reject","value","reason","sealed","fulfillmentHandler","rejectionHandler","tryThen","_label","type","TypeError","publishRejection","_onerror","publish","_subscribers","length","subscribers","settled","detail","TRY_CATCH_ERROR","hasCallback","succeeded","failed","tryCatch","id","Enumerator","Constructor","input","_instanceConstructor","_remaining","_enumerate","_eachEntry","entry","c","_then","_settledAt","_willSettleAt","state","enumerator","resolver","needsResolver","initializePromise","needsNew","catch","finally","Promise$1","entries","race","_","Resolve","_reject","_setScheduler","scheduleFn","_setAsap","asapFn","_asap","polyfill","local","global","Function","P","promiseToString","cast","matchOperatorsRe","defineProperty","module","enumerable","get","styles","modifiers","reset","bold","dim","italic","underline","inverse","hidden","strikethrough","colors","black","red","green","yellow","blue","magenta","cyan","white","gray","bgColors","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","grey","keys","forEach","groupName","group","styleName","style","open","close","ansiRegex","re","RegExp","source","test","bind","argv","terminator","indexOf","hasFlag","flag","pos","stdout","isTTY","platform","TERM","defineProps","defineProperties","isSimpleWindowsTerm","Chalk","enabled","supportsColor","ansiStyles","ret","key","closeRe","str","replace","escapeStringRegexp","build","_styles","concat","proto","builder","args","argsLen","String","a","nestedStyles","originalDim","code","apply","__proto__","hasAnsi","debug","exports","SemVer","NODE_DEBUG","slice","unshift","console","log","MAX_LENGTH","MAX_SAFE_INTEGER","Number","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","parse","version","loose","er","m","trim","raw","major","minor","patch","prerelease","split","num","format","s","join","compare","other","compareMain","comparePre","compareIdentifiers","b","inc","release","identifier","push","isNaN","version1","version2","eq","v1","v2","numeric","anum","bnum","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","operator","list","sort","rcompare","Range","range","set","parseRange","filter","isX","toLowerCase","hyphenReplace","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","high","low","comparator","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","p","pr","charAt","replaceCaret","gtlt","xM","xm","xp","anyX","replaceXRange","some","thisComparators","every","thisComparator","rangeComparators","rangeComparator","versions","max","maxSV","rangeObj","min","minSV","parsed","r1","r2","dep","path","o","validRange","JSON","stringify","configModule","verifyErrors","verifyArr","errors","validateVerifyItem","validateVerifyArray","dir","cwd","filepath","res","rej","fs.exists","exists","getIfExists","path.join","findConfig","Platform","ProjectConfig","optionsModule","messages","validateConfig","chalk","prefix","nextMessage","POSIX_PLATFORMS","val","doesSemverMatch","matcher","doesMatch","platforms","normalizerOptions","BaseExtractor","handlesPlatform","reduce","acc","item","getInfoForEnvironment","ev","unbrand","vf","parts","exec","normalizeValue","preprocessor","isOk","_brand","brandStamp","_super","_this","commands","tslib_1.__extends","ExecutableExtractor","command","err","stderr","_b","OPENSSL_EXTRACTOR","Win32","Posix","NODE_EXTRACTOR","POSTGRES_EXTRACTOR","extractors","ExtractorRegistry","setupStandardExtractors","indentError","openssl","postgres","DEFAULT_ENVIRONMENT_OPTIONS","nodePlatform","Unsupported","results","write","formatMatcher","Warning","valueMatcher","sv","Environment","setup","e_1","coreSetup","e_2","projectSetup","processVerifications","verificationResult","formatExtractorResults","main","ok","exit","stack"],"mappings":"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"}